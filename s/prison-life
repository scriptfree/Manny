local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({Name = "BBL Drizzy", HidePremium = false, SaveConfig = true, ConfigFolder = "OrionTest"})

local Tab = Window:MakeTab({
	Name = "Main",
	Icon = "rbxassetid://18777407436",
	PremiumOnly = false
})

getgenv().LoopTeleport = false -- Global variable to control the loop

Tab:AddToggle({
	Name = "Loop Teleport Criminals",
	Default = false,
	Callback = function(Value)
		if Value then
			-- Enable the loop when toggled on
			getgenv().LoopTeleport = true
			
			-- Start looping
			spawn(function()
				while getgenv().LoopTeleport do
					-- Get the "Criminals" team
					local teamCriminals = game:GetService("Teams"):FindFirstChild("Criminals")

					-- Check if the team exists
					if teamCriminals then
						-- Get a list of all players on the "Criminals" team
						local criminals = {}
						for _, player in pairs(game:GetService("Players"):GetPlayers()) do
							if player.Team == teamCriminals then
								table.insert(criminals, player)
							end
						end

						-- If there are any players on the "Criminals" team
						if #criminals > 0 then
							-- Pick a random player from the team
							local randomCriminal = criminals[math.random(1, #criminals)]

							-- Get the character of the random player
							local criminalCharacter = randomCriminal.Character
							local yourCharacter = game.Players.LocalPlayer.Character

							-- Ensure the criminal's character and your character exist
							if criminalCharacter and yourCharacter then
								-- Teleport your character to the criminal
								yourCharacter:MoveTo(criminalCharacter:GetPrimaryPartCFrame().p)
							else
								warn("Character not found.")
							end
						else
							warn("No players found on the 'Criminals' team.")
						end
					else
						warn("'Criminals' team not found.")
					end

					-- Add a delay to avoid too fast looping (adjust delay as necessary)
					wait(2) -- You can adjust this wait time to control how often the teleport happens (e.g., 2 seconds)
				end
			end)
		else
			-- Disable the loop when toggled off
			getgenv().LoopTeleport = false
		end
	end
})

Tab:AddButton({
	Name = "Teleport to random criminal",
	Callback = function()
		
		-- Get the "Criminals" team
		local teamCriminals = game:GetService("Teams"):FindFirstChild("Criminals")

		-- Check if the team exists
		if teamCriminals then
			-- Get a list of all players on the "Criminals" team
			local criminals = {}
			for _, player in pairs(game:GetService("Players"):GetPlayers()) do
				if player.Team == teamCriminals then
					table.insert(criminals, player)
				end
			end

			-- If there are any players on the "Criminals" team
			if #criminals > 0 then
				-- Pick a random player from the team
				local randomCriminal = criminals[math.random(1, #criminals)]

				-- Get the character of the random player
				local criminalCharacter = randomCriminal.Character
				local yourCharacter = game.Players.LocalPlayer.Character

				-- Ensure the criminal's character and your character exist
				if criminalCharacter and yourCharacter then
					-- Teleport your character to the criminal
					yourCharacter:MoveTo(criminalCharacter:GetPrimaryPartCFrame().p)
				else
					warn("Character not found.")
				end
			else
				warn("No players found on the 'Criminals' team.")
			end
		else
			warn("'Criminals' team not found.")
		end
	end
})


OrionLib:Init()
